<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>浅谈SOAP-SQL注入 | X1ly?S</title><meta name="author" content="X1ly?S"><meta name="copyright" content="X1ly?S"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="理清概念Web Services简介Web Services 是一种标准化的、跨平台、跨语言的通信方法，允许不同系统和应用程序通过网络互相交流。它们提供了一种机制，使得不同平台和语言的应用能够相互调用功能或交换数据，而不需要了解彼此的实现细节或平台。 看不懂？没事我也看不懂哈哈。例如，假设 A 公司的 Linux 平台上的 Java 程序需要与 B 公司的 Windows 平台上的 C 程序进行通">
<meta property="og:type" content="article">
<meta property="og:title" content="浅谈SOAP-SQL注入">
<meta property="og:url" content="https://x1lys.github.io/2024/09/10/%E6%B5%85%E8%B0%88SOAP-SQL%E6%B3%A8%E5%85%A5/index.html">
<meta property="og:site_name" content="X1ly?S">
<meta property="og:description" content="理清概念Web Services简介Web Services 是一种标准化的、跨平台、跨语言的通信方法，允许不同系统和应用程序通过网络互相交流。它们提供了一种机制，使得不同平台和语言的应用能够相互调用功能或交换数据，而不需要了解彼此的实现细节或平台。 看不懂？没事我也看不懂哈哈。例如，假设 A 公司的 Linux 平台上的 Java 程序需要与 B 公司的 Windows 平台上的 C 程序进行通">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://x1lys.github.io/img/1.jpg">
<meta property="article:published_time" content="2024-09-10T03:52:35.000Z">
<meta property="article:modified_time" content="2024-10-23T13:59:27.727Z">
<meta property="article:author" content="X1ly?S">
<meta property="article:tag" content="SOAP">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://x1lys.github.io/img/1.jpg"><link rel="shortcut icon" href="/img/999.png"><link rel="canonical" href="https://x1lys.github.io/2024/09/10/%E6%B5%85%E8%B0%88SOAP-SQL%E6%B3%A8%E5%85%A5/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":true},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":300,"languages":{"author":"作者: X1ly?S","link":"链接: ","source":"来源: X1ly?S","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '浅谈SOAP-SQL注入',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  isShuoshuo: false
}</script><meta name="generator" content="Hexo 7.3.0"></head><body><div id="web_bg" style="background-image: url(/img/30.jpg);"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/img/11.jpg" onerror="onerror=null;src='/img/47.jpg'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">98</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">52</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">20</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-cogs"></i><span> 技术</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-list-alt"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fa-solid fa-heart"></i><span> 爱好</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/categories/%E5%85%AD%E7%88%BB/"><i class="fa-fw fa-solid fa-bars"></i><span> 六爻</span></a></li><li><a class="site-page child" href="/categories/%E5%86%99%E4%BD%9C/"><i class="fa-fw fas fa-pencil-alt"></i><span> 写作</span></a></li><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-film"></i><span> 电影</span></a></li><li><a class="site-page child" href="/shuoshuo/"><i class="fa-fw fas fa-comments"></i><span> 说说</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa-solid fa-users"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/msg/"><i class="fa-fw fas fa-envelope"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-user"></i><span> 关于我</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(/img/1.jpg);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">X1ly?S</span></a><a class="nav-page-title" href="/"><span class="site-name">浅谈SOAP-SQL注入</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-cogs"></i><span> 技术</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-list-alt"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fa-solid fa-heart"></i><span> 爱好</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/categories/%E5%85%AD%E7%88%BB/"><i class="fa-fw fa-solid fa-bars"></i><span> 六爻</span></a></li><li><a class="site-page child" href="/categories/%E5%86%99%E4%BD%9C/"><i class="fa-fw fas fa-pencil-alt"></i><span> 写作</span></a></li><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-film"></i><span> 电影</span></a></li><li><a class="site-page child" href="/shuoshuo/"><i class="fa-fw fas fa-comments"></i><span> 说说</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa-solid fa-users"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/msg/"><i class="fa-fw fas fa-envelope"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-user"></i><span> 关于我</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">浅谈SOAP-SQL注入</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-09-10T03:52:35.000Z" title="发表于 2024-09-10 11:52:35">2024-09-10</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-10-23T13:59:27.727Z" title="更新于 2024-10-23 21:59:27">2024-10-23</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/WEB%E6%94%BB%E9%98%B2/">WEB攻防</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">总字数:</span><span class="word-count">4.3k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>16分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span><span class="post-meta-separator">|</span><span class="post-meta-commentcount"><i class="far fa-comments fa-fw post-meta-icon"></i><span class="post-meta-label">评论数:</span><a href="/2024/09/10/%E6%B5%85%E8%B0%88SOAP-SQL%E6%B3%A8%E5%85%A5/#post-comment"><span class="waline-comment-count" data-path="/2024/09/10/%E6%B5%85%E8%B0%88SOAP-SQL%E6%B3%A8%E5%85%A5/"><i class="fa-solid fa-spinner fa-spin"></i></span></a></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><div id="post-outdate-notice" data="{&quot;limitDay&quot;:365,&quot;messagePrev&quot;:&quot;It has been&quot;,&quot;messageNext&quot;:&quot;days since the last update, the content of the article may be outdated.&quot;,&quot;postUpdate&quot;:&quot;2024-10-23 21:59:27&quot;}" hidden></div><h2 id="理清概念"><a href="#理清概念" class="headerlink" title="理清概念"></a>理清概念</h2><h3 id="Web-Services"><a href="#Web-Services" class="headerlink" title="Web Services"></a>Web Services</h3><h4 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h4><p>Web Services 是一种<strong>标准化的、跨平台、跨语言</strong>的通信方法，<strong>允许不同系统和应用程序通过网络互相交流</strong>。它们提供了一种机制，使得<strong>不同平台和语言的应用能够相互调用功能或交换数据</strong>，而不需要了解彼此的实现细节或平台。</p>
<p>看不懂？没事我也看不懂哈哈。例如，假设 A 公司的 Linux 平台上的 Java 程序需要与 B 公司的 Windows 平台上的 C 程序进行通信，交换数据或调用业务逻辑。通过 Web Services 技术，开发人员可以创建 Web 服务接口，然后在这些接口上进行跨平台、跨语言的通信。这是因为 Web Services 使用统一的标准和协议，确保不同平台和编程语言的系统能够互操作。</p>
<h4 id="Web-Services三要素"><a href="#Web-Services三要素" class="headerlink" title="Web Services三要素"></a>Web Services三要素</h4><ul>
<li><strong>SOAP（Simple Object Access Protocol）</strong></li>
<li>**WSDL（WebServicesDescriptionLanguage） **</li>
<li><strong>UDDI（UniversalDescriptionDiscovery andIntegration）</strong></li>
</ul>
<h4 id="Web-Services的关键点"><a href="#Web-Services的关键点" class="headerlink" title="Web Services的关键点"></a>Web Services的关键点</h4><ol>
<li><strong>标准化</strong>：Web Services 使用标准化的协议（如 SOAP）和数据格式（如 XML 或 JSON），确保不同系统之间的兼容性。</li>
<li><strong>跨平台和跨语言</strong>：无论服务提供者和消费者使用什么平台或编程语言，只要遵循相同的标准，就能进行有效的通信。</li>
<li><strong>接口描述</strong>：Web Services 使用 WSDL 文件来描述服务接口，使得服务的使用者能够理解如何调用这些服务。</li>
<li><strong>服务发现</strong>：通过 UDDI 等目录服务，服务提供者可以注册他们的服务，服务消费者可以查找和使用这些服务。</li>
</ol>
<h3 id="SOAP"><a href="#SOAP" class="headerlink" title="SOAP"></a>SOAP</h3><h4 id="简介-1"><a href="#简介-1" class="headerlink" title="简介"></a>简介</h4><p>SOAP（Simple Object Access Protocol） 它是一个基于 XML 的协议，注意不是HTTP那种的**”传输协议”<strong>，而是</strong>“协议”<strong>。被设计用于支持</strong>分布式计算环境中的消息交换**，常用于实现Web Services</p>
<p>简单来说，SOAP（Simple Object Access Protocol，简单对象访问协议）其实就是一种用于定义 Web 服务之间以及 Web 服务与客户端之间通信的标准化协议</p>
<h4 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h4><ul>
<li><p><strong>XML 基础</strong>：SOAP 消息采用 XML 格式，使得它具有良好的平台及语言无关性。</p>
</li>
<li><p><strong>协议独立性</strong>：<strong>SOAP 可以通过不同的传输协议（如 HTTP、SMTP、TCP 等）发送消息，但最常用的是 HTTP</strong>。</p>
</li>
<li><p><strong>消息结构</strong>：</p>
<ul>
<li><strong>SOAP Envelope</strong>：消息的封装结构，包括头部（Header）和主体（Body）。</li>
</ul>
<ul>
<li><strong>Header</strong>：包含与消息处理相关的元数据。</li>
<li><strong>Body</strong>：<strong>包含实际的请求或响应数据</strong>。</li>
</ul>
</li>
<li><p><strong>功能</strong>：SOAP 支持复杂的操作，如事务处理、安全性和可靠性，但这些功能也使其相对复杂。</p>
</li>
</ul>
<h4 id="SOAP的关键点"><a href="#SOAP的关键点" class="headerlink" title="SOAP的关键点"></a>SOAP的关键点</h4><p><strong>通信协议</strong>：SOAP 作为通信协议，定义了如何格式化和传输请求和响应消息。它描述了消息的结构、编码方式和传输协议。</p>
<p><strong>接口规范</strong>：SOAP 提供了一种标准化的方式来定义和描述 Web 服务的接口，包括如何请求服务、如何发送数据、如何接收响应等。</p>
<p><strong>跨平台和跨语言</strong>：因为 SOAP 消息使用 XML 格式，SOAP 协议使得不同平台和编程语言的系统可以通过统一的标准进行通信和交互。</p>
<p><strong>标准化格式</strong>：SOAP 消息包含 <strong>SOAP Envelope</strong>，其中包括 <strong>Header</strong>（可选）和 <strong>Body</strong>（包含实际的数据或请求）。这些标准化的结构确保了消息的可解析性和一致性。</p>
<p><strong>扩展性</strong>：SOAP 支持多种扩展功能，如安全性、事务处理等，使其能够处理复杂的业务需求。</p>
<h3 id="WSDL"><a href="#WSDL" class="headerlink" title="WSDL"></a>WSDL</h3><h4 id="简介-2"><a href="#简介-2" class="headerlink" title="简介"></a>简介</h4><p>WSDL （Web Services Description Language）是一种用于描述 Web Service的 XML 格式的语言。它定义了 Web Service的接口、操作、数据类型和传输协议。<strong>WSDL 文件帮助服务的使用者了解如何访问和使用 Web Service</strong>。</p>
<p><img src="https://s2.loli.net/2024/10/22/ndLg7isFVDb9xta.png" alt="image"></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">wsdl:definitions</span> <span class="attr">xmlns:s</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema&quot;</span> <span class="attr">xmlns:soap12</span>=<span class="string">&quot;http://schemas.xmlsoap.org/wsdl/soap12/&quot;</span> <span class="attr">xmlns:http</span>=<span class="string">&quot;http://schemas.xmlsoap.org/wsdl/http/&quot;</span> <span class="attr">xmlns:mime</span>=<span class="string">&quot;http://schemas.xmlsoap.org/wsdl/mime/&quot;</span> <span class="attr">xmlns:tns</span>=<span class="string">&quot;http://www.verisoft.com/JupiterSOAPWebService&quot;</span> <span class="attr">xmlns:soap</span>=<span class="string">&quot;http://schemas.xmlsoap.org/wsdl/soap/&quot;</span> <span class="attr">xmlns:tm</span>=<span class="string">&quot;http://microsoft.com/wsdl/mime/textMatching/&quot;</span> <span class="attr">xmlns:soapenc</span>=<span class="string">&quot;http://schemas.xmlsoap.org/soap/encoding/&quot;</span> <span class="attr">xmlns:wsdl</span>=<span class="string">&quot;http://schemas.xmlsoap.org/wsdl/&quot;</span> <span class="attr">targetNamespace</span>=<span class="string">&quot;http://www.verisoft.com/JupiterSOAPWebService&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">wsdl:types</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">s:schema</span> <span class="attr">elementFormDefault</span>=<span class="string">&quot;qualified&quot;</span> <span class="attr">targetNamespace</span>=<span class="string">&quot;http://www.verisoft.com/JupiterSOAPWebService&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">s:element</span> <span class="attr">name</span>=<span class="string">&quot;getCardStatus&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">s:complexType</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">s:sequence</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">s:element</span> <span class="attr">minOccurs</span>=<span class="string">&quot;0&quot;</span> <span class="attr">maxOccurs</span>=<span class="string">&quot;1&quot;</span> <span class="attr">name</span>=<span class="string">&quot;wSCardsStatusInDTO&quot;</span> <span class="attr">type</span>=<span class="string">&quot;tns:CardsStatusInDTO&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">s:sequence</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">s:complexType</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">s:element</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">s:complexType</span> <span class="attr">name</span>=<span class="string">&quot;CardsStatusInDTO&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">s:sequence</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">s:element</span> <span class="attr">minOccurs</span>=<span class="string">&quot;1&quot;</span> <span class="attr">maxOccurs</span>=<span class="string">&quot;1&quot;</span> <span class="attr">name</span>=<span class="string">&quot;channelId&quot;</span> <span class="attr">type</span>=<span class="string">&quot;s:int&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">s:element</span> <span class="attr">minOccurs</span>=<span class="string">&quot;0&quot;</span> <span class="attr">maxOccurs</span>=<span class="string">&quot;1&quot;</span> <span class="attr">name</span>=<span class="string">&quot;channelKey&quot;</span> <span class="attr">type</span>=<span class="string">&quot;s:string&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">s:element</span> <span class="attr">minOccurs</span>=<span class="string">&quot;0&quot;</span> <span class="attr">maxOccurs</span>=<span class="string">&quot;1&quot;</span> <span class="attr">name</span>=<span class="string">&quot;cardNumber&quot;</span> <span class="attr">type</span>=<span class="string">&quot;s:string&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">s:sequence</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">s:complexType</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">s:element</span> <span class="attr">name</span>=<span class="string">&quot;getCardStatusResponse&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">s:complexType</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">s:sequence</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">s:element</span> <span class="attr">minOccurs</span>=<span class="string">&quot;0&quot;</span> <span class="attr">maxOccurs</span>=<span class="string">&quot;1&quot;</span> <span class="attr">name</span>=<span class="string">&quot;getCardStatusResult&quot;</span> <span class="attr">type</span>=<span class="string">&quot;tns:CardStatus&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="功能"><a href="#功能" class="headerlink" title="功能"></a>功能</h4><ul>
<li><strong>Types</strong>：定义服务使用的数据类型。</li>
<li><strong>Message</strong>：描述传输的数据格式。</li>
<li><strong>PortType</strong>：定义服务的操作和接口。</li>
<li><strong>Binding</strong>：指定协议（如 SOAP）和数据格式（如 XML）。</li>
<li><strong>Service</strong>：定义服务的地址（即服务的具体 URL）。</li>
</ul>
<h3 id="UDDI（Universal-Description-Discovery-and-Integration）"><a href="#UDDI（Universal-Description-Discovery-and-Integration）" class="headerlink" title="UDDI（Universal Description, Discovery, and Integration）"></a>UDDI（Universal Description, Discovery, and Integration）</h3><h4 id="简介-3"><a href="#简介-3" class="headerlink" title="简介"></a>简介</h4><p>UDDI 是一个用于 Web Service注册和发现的目录服务。<strong>它允许服务提供者注册他们的服务，并允许服务消费者查找和获取这些服务</strong>。</p>
<h4 id="功能-1"><a href="#功能-1" class="headerlink" title="功能"></a>功能</h4><ul>
<li><strong>Business Entity</strong>：描述提供服务的组织或公司。</li>
<li><strong>Business Service</strong>：描述该组织或公司提供的具体服务。</li>
<li><strong>Binding Template</strong>：提供服务的访问信息，包括 WSDL 文件的位置。</li>
<li><strong>Service Description</strong>：描述服务的功能和接口，包括如何通过 WSDL 访问服务。</li>
</ul>
<h3 id="它们之间的关系"><a href="#它们之间的关系" class="headerlink" title="它们之间的关系"></a>它们之间的关系</h3><ul>
<li><strong>Web Service</strong>：总体概念，指的是通过网络提供的<strong>功能或服务</strong>。</li>
<li><strong>SOAP</strong>：一种<strong>协议</strong>，常用于 Web Service的通信，负责定义消息的格式和传输方式。</li>
<li><strong>WSDL</strong>：描述 Web Service接口的<strong>语言</strong>，让服务消费者了解如何调用服务。</li>
<li><strong>UDDI</strong>：<strong>服务注册和发现的目录</strong>，使得服务提供者能够发布服务，消费者能够找到并使用这些服务。</li>
</ul>
<h3 id="工作流程"><a href="#工作流程" class="headerlink" title="工作流程"></a>工作流程</h3><p>(这个可以好好看看，对这几个概念联系的理解会很有帮助)</p>
<ol>
<li><strong>服务注册</strong>：服务提供者创建一个 Web Service，编写 WSDL 文件来描述其接口，然后将服务注册到 UDDI 注册表中。</li>
<li><strong>服务发现</strong>：服务消费者查询 UDDI 注册表，找到所需的服务及其 WSDL 描述。</li>
<li><strong>服务调用</strong>：消费者根据 WSDL 文件提供的信息，通过 SOAP 协议发送请求，调用 Web Service的功能。</li>
<li><strong>服务响应</strong>：服务处理请求并返回响应，通常也是通过 SOAP 消息传输的。</li>
</ol>
<h2 id="SOAP的组成"><a href="#SOAP的组成" class="headerlink" title="SOAP的组成"></a>SOAP的组成</h2><p>SOAP（Simple Object Access Protocol）是一个基于 XML 的协议，用于在网络上交换信息。SOAP 消息由多个组成部分构成，每部分都有特定的功能和结构。下面是 SOAP 消息的主要组成细节：</p>
<h3 id="SOAP-Envelope（SOAP-信封）"><a href="#SOAP-Envelope（SOAP-信封）" class="headerlink" title="SOAP Envelope（SOAP 信封）"></a>SOAP Envelope（SOAP 信封）</h3><ul>
<li><p><strong>功能</strong>：SOAP Envelope 是 SOAP 消息的根元素，定义了消息的整体结构。它包裹着消息的其他部分，即 Header 和 Body。</p>
</li>
<li><p>结构</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">soap:Envelope</span> <span class="attr">xmlns:soap</span>=<span class="string">&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">soap:Header</span>&gt;</span>...<span class="tag">&lt;/<span class="name">soap:Header</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">soap:Body</span>&gt;</span>...<span class="tag">&lt;/<span class="name">soap:Body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">soap:Envelope</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="SOAP-Header（SOAP-头）"><a href="#SOAP-Header（SOAP-头）" class="headerlink" title="SOAP Header（SOAP 头）"></a>SOAP Header（SOAP 头）</h3><ul>
<li><p><strong>功能</strong>：SOAP Header 是可选的部分，包含与消息处理相关的元数据，如安全信息、事务处理信息等。</p>
</li>
<li><p>内容</p>
<ul>
<li>可以包含多个子元素，每个子元素代表不同的头部信息。</li>
<li>头部信息通常是针对消息处理的附加数据，例如认证、加密信息或其他控制信息。</li>
</ul>
</li>
<li><p>示例</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">soap:Header</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">wsse:Security</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">wsse:UsernameToken</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">wsse:Username</span>&gt;</span>user<span class="tag">&lt;/<span class="name">wsse:Username</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">wsse:Password</span>&gt;</span>pass<span class="tag">&lt;/<span class="name">wsse:Password</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">wsse:UsernameToken</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">wsse:Security</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">soap:Header</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="SOAP-Body（SOAP-主体）"><a href="#SOAP-Body（SOAP-主体）" class="headerlink" title="SOAP Body（SOAP 主体）"></a>SOAP Body（SOAP 主体）</h3><ul>
<li><p><strong>功能</strong>：SOAP Body 是 SOAP 消息的核心部分，包含实际的请求或响应数据。它定义了要传输的具体内容和操作。</p>
</li>
<li><p>内容</p>
<ul>
<li>包括服务请求的参数或服务响应的结果。</li>
<li>可以包含任意的 XML 数据，具体格式依赖于服务的定义。</li>
</ul>
</li>
<li><p>示例</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">soap:Body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">m:GetStockPrice</span> <span class="attr">xmlns:m</span>=<span class="string">&quot;http://www.example.org/stock&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">m:StockName</span>&gt;</span>IBM<span class="tag">&lt;/<span class="name">m:StockName</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">m:GetStockPrice</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">soap:Body</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="SOAP-Fault（SOAP-错误）"><a href="#SOAP-Fault（SOAP-错误）" class="headerlink" title="SOAP Fault（SOAP 错误）"></a>SOAP Fault（SOAP 错误）</h3><ul>
<li><p><strong>功能</strong>：SOAP Fault 是一个特殊的元素，用于表示消息处理过程中发生的错误。它在 SOAP Body 中出现，描述了错误的详细信息。</p>
</li>
<li><p>结构</p>
<ul>
<li><strong>faultcode</strong>：表示错误类型的代码。</li>
<li><strong>faultstring</strong>：对错误的简要描述。</li>
<li><strong>faultactor</strong>（可选）：指示导致错误的消息的发送者。</li>
<li><strong>detail</strong>（可选）：提供额外的错误信息，通常是错误的详细描述或补充信息。</li>
</ul>
</li>
<li><p>示例</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">soap:Body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">soap:Fault</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">faultcode</span>&gt;</span>soap:Client<span class="tag">&lt;/<span class="name">faultcode</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">faultstring</span>&gt;</span>Invalid request<span class="tag">&lt;/<span class="name">faultstring</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">detail</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">error:InvalidParameter</span> <span class="attr">xmlns:error</span>=<span class="string">&quot;http://www.example.org/error&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">detail</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">soap:Fault</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">soap:Body</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><ul>
<li><strong>SOAP Envelope</strong>：封装整个 SOAP 消息的结构，包括 Header 和 Body。</li>
<li><strong>SOAP Header</strong>：包含与消息处理相关的元数据，是可选的部分。</li>
<li><strong>SOAP Body</strong>：包含实际的请求或响应数据，是消息的主体部分。</li>
<li><strong>SOAP Fault</strong>：用于描述在处理消息时发生的错误，位于 SOAP Body 中。</li>
</ul>
<h2 id="SOAP-SQL注入原理"><a href="#SOAP-SQL注入原理" class="headerlink" title="SOAP-SQL注入原理"></a>SOAP-SQL注入原理</h2><p>其实原理很简单，这是SOAP的消息格式(XML)</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">soap:Envelope</span> <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span> <span class="attr">xmlns:xsd</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema&quot;</span> <span class="attr">xmlns:soap</span>=<span class="string">&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">soap:Header</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">soap:Header</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">soap:Body</span>&gt;</span></span><br><span class="line">  	<span class="tag">&lt;<span class="name">test:SearchUser</span> <span class="attr">xmlns:m</span>=<span class="string">&quot;http://www.example.org/stock&quot;</span>&gt;</span></span><br><span class="line">    	<span class="tag">&lt;<span class="name">test:UserID</span>&gt;</span>10<span class="tag">&lt;/<span class="name">test:UserID</span>&gt;</span></span><br><span class="line">  	<span class="tag">&lt;/<span class="name">test:SearchUser</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">soap:Body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">soap:Envelope</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>回顾一下SQL注入的原理，在涉及数据库交互的地方，SQL语句直接拼接可控参数带入数据库查询，导致了SQL语句在语法结构上被攻击者直接可控</p>
<p>那么如果这里的**<a href="test:UserID">test:UserID</a>**也涉及数据库的查询，并且在后端是直接拼接可控参数带入数据库查询的，那不就也能导致SQL注入吗</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">test:UserID</span>&gt;</span>10<span class="tag">&lt;/<span class="name">test:UserID</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>其实也就和我们平时遇到的SQL注入差不多的，比如这种POST或者GET的普通传参点的注入</p>
<figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">GET</span><br><span class="line">http://www.baidu.com/test.php?UserID=10&#x27; or 1=1 #</span><br><span class="line"></span><br><span class="line">POST</span><br><span class="line">UserID=10&#x27; or 1=1 #</span><br></pre></td></tr></table></figure>

<p>又比如这种JSON数据格式的</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">POST</span><br><span class="line"></span><br><span class="line"><span class="punctuation">&#123;</span><span class="attr">&quot;UserID&quot;</span><span class="punctuation">:</span><span class="string">&quot;10&#x27; or 1=1 #&quot;</span><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p> 那么这里的<a href="test:UserID">test:UserID</a>其实也就只是传输数据的格式不一样而已，所以平时SQL注入是怎么注入的，这里的SOAP仍然是怎么注入</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">test:UserID</span>&gt;</span>10&#x27; or 1=1 #<span class="tag">&lt;/<span class="name">test:UserID</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="SOAP-SQL注入实战"><a href="#SOAP-SQL注入实战" class="headerlink" title="SOAP-SQL注入实战"></a>SOAP-SQL注入实战</h2><h3 id="寻找SOAP"><a href="#寻找SOAP" class="headerlink" title="寻找SOAP"></a>寻找SOAP</h3><p>既然要找SOAP-SQL注入漏洞，那么肯定得要网站使用了SOAP，WebService才行啊。怎么找到这些网站呢？一般来说，使用了SOAP通信的接口或者相关功能页面都存在一些<strong>特征</strong>，我们使用搜索引擎、FOFA、鹰图再结合这些特征去找就好啦</p>
<h4 id="页面关键词特征"><a href="#页面关键词特征" class="headerlink" title="页面关键词特征"></a>页面关键词特征</h4><p>Service Description </p>
<p>WebServices Description Language</p>
<p>WebServices</p>
<p>Soap</p>
<p>WSDL</p>
<h4 id="文件后缀特征"><a href="#文件后缀特征" class="headerlink" title="文件后缀特征"></a>文件后缀特征</h4><p>?WSDL </p>
<p>.wsdl</p>
<p>.svc</p>
<p>.asmx</p>
<p>.soap</p>
<h4 id="目录特征"><a href="#目录特征" class="headerlink" title="目录特征"></a>目录特征</h4><p>&#x2F;webservice</p>
<p>&#x2F;service</p>
<p>&#x2F;ws&#x2F;</p>
<h4 id="样例"><a href="#样例" class="headerlink" title="样例"></a>样例</h4><p>一般情况下，发现SOAP注入的场景就是通过FUZZ目录，FUZZ出了类似于**&#x2F;webservice**的目录，访问就可以看到这样的类似主界面，那么这种情况就可以考虑测试SOAP相关的漏洞了</p>
<p><img src="https://s2.loli.net/2024/10/22/SQj3Jsln8UZvWfE.png" alt="image"></p>
<p><img src="https://s2.loli.net/2024/10/22/YVUzINsHFZLQiET.png" alt="image"></p>
<p><img src="https://s2.loli.net/2024/10/22/bMeSGcZ7Xutp8gN.png" alt="image"></p>
<p><strong>如果是在JAVA环境下遇到了SOAP接口文档（jws），或者别的类型的webservice，页面上可能和上面会有很大不同</strong></p>
<p><img src="https://s2.loli.net/2024/10/22/rtyQux7nhY2Bs4e.png" alt="image"></p>
<p>但是页面上一般都会有那些关键词，<strong>Soap、WebServices、WSDL</strong></p>
<h3 id="测试SOAP-SQL注入"><a href="#测试SOAP-SQL注入" class="headerlink" title="测试SOAP-SQL注入"></a>测试SOAP-SQL注入</h3><p>上文提到：”那么这里的<a href="test:UserID">test:UserID</a>其实也就只是传输数据的格式不一样而已，所以平时SQL注入是怎么注入的，这里的SOAP仍然是怎么注入”，也就是说，其实对于SOAP相关漏洞的测试也没啥特别的，仍然和其他基本漏洞测试完全一样，只是在传输格式，表现形式等等方面有所不同，就相当于一种变形而已，所以使用了SOAP的地方也完全可能存在SQL注入，文件上传，SSRF，XXE等等基本漏洞，测试方法仍然一点没变，只是格式变形了而已</p>
<p>那么本文只讲SOAP的SQL注入，至于其他的漏洞遇到了案例再说吧：</p>
<h4 id="手工测试"><a href="#手工测试" class="headerlink" title="手工测试"></a>手工测试</h4><p>首先来到这个asmx接口列表界面，可以看到有很多接口，既然是找SQL注入，那么就可以通过接口描述，优先选择可能涉及数据库操作的接口，然后一个一个地测试其他接口、参数。以这个GetArriverListByUserid为例：</p>
<p><img src="https://s2.loli.net/2024/10/22/UaTh2XyxOoFpQbg.png" alt="image"></p>
<p>打入SQL注入payload，这里很像Swagger UI接口文档的测试</p>
<p><img src="https://s2.loli.net/2024/10/22/Z1KbLmhXfIM3A5S.png" alt="image"></p>
<p>运气很好，直接注出了所有的日志数据</p>
<p><img src="https://s2.loli.net/2024/10/22/imhKIDwCRcAFfts.png" alt="image"></p>
<h4 id="普通自动化测试"><a href="#普通自动化测试" class="headerlink" title="普通自动化测试"></a>普通自动化测试</h4><p>手工测试的话无法满足大量接口、参数的场景，于是可以使用这个漏洞扫描工具<strong>Acunetix Web Vulnerability Scanner 10</strong>进行自动化测试</p>
<ol>
<li>获取WSDL地址，以?WSDL结尾，于是在.asmx后缀加一个**”?WSDL”**就可以了，”<a target="_blank" rel="noopener" href="http://111.111.111.111:8001/Service1.asmx?WSDL">http://111.111.111.111:8001/Service1.asmx?WSDL</a>“</li>
</ol>
<p><img src="https://s2.loli.net/2024/10/22/CUL3QOfXEGIKYDP.png" alt="image"></p>
<p>它定义了 Web Service的接口、操作、数据类型和传输协议。<strong>WSDL 文档帮助服务的使用者了解如何访问和使用 Web Service</strong></p>
<p><img src="https://s2.loli.net/2024/10/22/RfeslxJ2WEnOTMm.png" alt="image"></p>
<ol start="2">
<li>使用<strong>Acunetix Web Vulnerability Scanner 10</strong>漏洞扫描工具的<strong>WebService</strong>模块，填入WSDL文档地址就OK，<strong>Start</strong>开始扫描</li>
</ol>
<p><img src="https://s2.loli.net/2024/10/22/HgI9jXxSazJN5Ru.png" alt="image"></p>
<p><strong>缺点是接口太多时速度很慢</strong></p>
<p><img src="https://s2.loli.net/2024/10/22/c9sNSevfGzI2MTn.png" alt="image"></p>
<h4 id="进阶测试"><a href="#进阶测试" class="headerlink" title="进阶测试"></a>进阶测试</h4><p>更专业一点的测试可以使用SOAP UI开发调试工具来进行进一步的测试，是SOAP数据格式的</p>
<h5 id="SOAP调试"><a href="#SOAP调试" class="headerlink" title="SOAP调试"></a>SOAP调试</h5><ol>
<li>导入WSDL链接</li>
</ol>
<p><img src="https://s2.loli.net/2024/10/22/KqpRQzWBScyU4jT.png" alt="image"></p>
<ol start="2">
<li>点击接口的Requests就可以进行SOAP的手工调试了，也就和Burp的改包一样，如下成功也是注入</li>
</ol>
<p><img src="https://s2.loli.net/2024/10/22/K1HyX4Wi96Bd3cr.png" alt="image"></p>
<ol start="3">
<li>还可以先打开<strong>File-&gt;Preferences-&gt;Proxy Settings</strong>配置burp代理，让流量经过burp</li>
</ol>
<p><img src="https://s2.loli.net/2024/10/22/frxa7pLSoRkgPsX.png" alt="image"></p>
<p><img src="https://s2.loli.net/2024/10/22/dCAJQMspRYo2UD1.png" alt="image"></p>
<h5 id="WSDLER-解析"><a href="#WSDLER-解析" class="headerlink" title="WSDLER 解析"></a>WSDLER 解析</h5><ol>
<li>除了使用SOAP-UI调试，也可以在Burp插件商店下载<strong>wsdler</strong>-WSDL的解析器</li>
</ol>
<p><img src="https://s2.loli.net/2024/10/22/X24KFHQSI3wDZmR.png" alt="image"></p>
<ol start="2">
<li>抓住?WSDL的数据包，右键发送给wsdler解析</li>
</ol>
<p><img src="https://s2.loli.net/2024/10/22/fWiVZyNAJjgEGon.png" alt="image"></p>
<ol start="3">
<li>这里就可以看到许多解析好的接口，再一一改包测试就行</li>
</ol>
<p><img src="https://s2.loli.net/2024/10/22/NYsFger9ujCKOwS.png" alt="image"></p>
<h5 id="Sqlmap联动"><a href="#Sqlmap联动" class="headerlink" title="Sqlmap联动"></a>Sqlmap联动</h5><ol>
<li>通过前面的调试与解析，得到了SOAP数据包，可以直接复制保存为txt，放在sqlmap去跑，也可以下载一个burp与sqlmap联动的插件<strong>sqlmap4burp++</strong> ，这样更方便</li>
</ol>
<p><img src="https://s2.loli.net/2024/10/22/2khdWPvsx8XBCGD.png" alt="image"></p>
<ol start="2">
<li>配置好sqlmap路径，然后就自动调用sqlmap了，只不过sqlmap有点慢</li>
</ol>
<p><img src="https://s2.loli.net/2024/10/22/C6kw9xLJ8M2Bufc.png" alt="image"></p>
<h2 id="实战案例"><a href="#实战案例" class="headerlink" title="实战案例"></a>实战案例</h2><blockquote>
<p>声明–以下案例来自：J0o1ey：<a target="_blank" rel="noopener" href="https://github.com/J0o1ey/BountyHunterInChina/blob/main/%E9%87%8D%E7%94%9F%E4%B9%8B%E6%88%91%E5%9C%A8%E5%AE%89%E5%85%A8%E8%A1%8C%E4%B8%9A%E8%AE%A8%E5%8F%A3%E5%AD%90(%E4%B8%80)-%E8%BD%BB%E6%9D%BEGET%E6%9F%90src%20soap%E6%B3%A8%E5%85%A5.pdf">https://github.com/J0o1ey/BountyHunterInChina/blob/main/%E9%87%8D%E7%94%9F%E4%B9%8B%E6%88%91%E5%9C%A8%E5%AE%89%E5%85%A8%E8%A1%8C%E4%B8%9A%E8%AE%A8%E5%8F%A3%E5%AD%90(%E4%B8%80)-%E8%BD%BB%E6%9D%BEGET%E6%9F%90src%20soap%E6%B3%A8%E5%85%A5.pdf</a></p>
</blockquote>
<ol>
<li>通过批量目录扫描C段，得到一处&#x2F;webservice目录，访问发现soap特征</li>
</ol>
<p><img src="https://s2.loli.net/2024/10/22/XwWTnoA7vK4pQam.png" alt="image"></p>
<ol start="2">
<li><p>获取到接口 <a target="_blank" rel="noopener" href="http://180.*.*.*/webservice/syncOrderToOdcService">http://180.*.*.*/webservice/syncOrderToOdcService</a></p>
</li>
<li><p>使用 soup ui 进行调试，当中间无参数值时 Soap 接口抛出了一个 Oracle 的错误信息，并提示“Date format error,YY-MM-DD”</p>
</li>
</ol>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">soapenv:Envelope</span> <span class="attr">xmlns:soapenv</span>=<span class="string">&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;</span><span class="attr">xmlns:odc</span>=<span class="string">&quot;http://odc.ws.qiku.com/&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">soapenv:Header</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">soapenv:Body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">odc:syncOrderInfo</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--Optional:--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">arg0</span>&gt;</span><span class="tag">&lt;/<span class="name">arg0</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">odc:syncOrderInfo</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">soapenv:Body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">soapenv:Envelope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">arg0</span>&gt;</span><span class="tag">&lt;/<span class="name">arg0</span>&gt;</span></span><br><span class="line">当<span class="tag">&lt;<span class="name">arg0</span>&gt;</span><span class="tag">&lt;/<span class="name">arg0</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ol start="4">
<li>那么构造一个符合条件的 date 数据 2021-9-23</li>
</ol>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Soap request：</span><br><span class="line"><span class="tag">&lt;<span class="name">soapenv:Envelope</span> <span class="attr">xmlns:soapenv</span>=<span class="string">&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;</span><span class="attr">xmlns:odc</span>=<span class="string">&quot;http://odc.ws.qiku.com/&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">soapenv:Header</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">soapenv:Body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">odc:syncOrderInfo</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--Optional:--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">arg0</span>&gt;</span>2021-9-23<span class="tag">&lt;/<span class="name">arg0</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">odc:syncOrderInfo</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">soapenv:Body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">soapenv:Envelope</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ol start="5">
<li>arg0 处为日期参数，指定日期，<strong>即可查询到 xx src 商城所有订单信息属于严重泄露客户数据的漏洞</strong>，<strong>未授权信息泄露get</strong></li>
</ol>
<p><img src="https://s2.loli.net/2024/10/22/8tsaGqcuoIRfCz5.png" alt="image"></p>
<ol start="6">
<li><p>测试sql注入，但是在注入的时候发现程序会将括号()过滤掉，导致函数无法执行，sqlmap注入不出来</p>
</li>
<li><p>怎么办？这时候就要用到骚姿势了：在 Oracle 中文版本中,中文括号（）可以代替英文()而且不报错！剩下的就很简单了，改一个 tamper 出来，再SQLmap就行了</p>
</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="string">&quot;&quot;&quot; Copyright (c) 2006-2016 sqlmap developers (http://sqlmap.org/)</span></span><br><span class="line"><span class="string">See the file &#x27;doc/COPYING&#x27; for copying permission</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">from</span> lib.core.common <span class="keyword">import</span> singleTimeWarnMessage</span><br><span class="line"><span class="keyword">from</span> lib.core.enums <span class="keyword">import</span> DBMS</span><br><span class="line"><span class="keyword">from</span> lib.core.enums <span class="keyword">import</span> PRIORITY __priority__ = PRIORITY.HIGHEST</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">dependencies</span>():</span><br><span class="line">singleTimeWarnMessage(<span class="string">&quot;tamper script &#x27;%s&#x27; is unlikely to work against %s&quot;</span> %(os.path.basename(__file__).split(<span class="string">&quot;.&quot;</span>)[<span class="number">0</span>], DBMS.PGSQL))</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">tamper</span>(<span class="params">payload, **kwargs</span>):</span><br><span class="line">retVal = payload</span><br><span class="line"><span class="keyword">if</span> payload:</span><br><span class="line">retVal = re.sub(<span class="string">r&quot;\s*(\s*&quot;</span>, <span class="string">&quot;（&quot;</span>, retVal)</span><br><span class="line">retVal = re.sub(<span class="string">r&quot;\s*)\s*&quot;</span>, <span class="string">&quot;）&quot;</span>, retVal)</span><br><span class="line"><span class="keyword">return</span> retVal</span><br></pre></td></tr></table></figure>

<ol start="8">
<li>python sqlmap.py -r xxx.txt –dbs –tamper&#x3D;brackets.py</li>
</ol>
<p><img src="https://s2.loli.net/2024/10/22/lSgkLTW7OGUqDoY.png" alt="image"></p>
<h2 id="工具推荐"><a href="#工具推荐" class="headerlink" title="工具推荐"></a>工具推荐</h2><h3 id="Acunetix-Web-Vulnerability-Scanner-10"><a href="#Acunetix-Web-Vulnerability-Scanner-10" class="headerlink" title="Acunetix Web Vulnerability Scanner 10"></a>Acunetix Web Vulnerability Scanner 10</h3><p><a target="_blank" rel="noopener" href="https://www.xue51.com/soft/8035.html#xzdz">https://www.xue51.com/soft/8035.html#xzdz</a></p>
<h3 id="soap-ui"><a href="#soap-ui" class="headerlink" title="soap ui"></a>soap ui</h3><p><a target="_blank" rel="noopener" href="https://www.soapui.org/downloads/latest-release/">https://www.soapui.org/downloads/latest-release/</a></p>
<h3 id="sqlmap4burp"><a href="#sqlmap4burp" class="headerlink" title="sqlmap4burp"></a>sqlmap4burp</h3><p><a target="_blank" rel="noopener" href="http://github.com/c0ny1/sqlmap4burp-plus-plus">http://github.com/c0ny1/sqlmap4burp-plus-plus</a></p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://x1lys.github.io">X1ly?S</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://x1lys.github.io/2024/09/10/%E6%B5%85%E8%B0%88SOAP-SQL%E6%B3%A8%E5%85%A5/">https://x1lys.github.io/2024/09/10/浅谈SOAP-SQL注入/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="https://x1lys.github.io" target="_blank">X1ly?S</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/SOAP/">SOAP</a></div><div class="post-share"><div class="social-share" data-image="/img/1.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i>技术交流，互相学习</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="https://wpa.qq.com/msgrd?v=3&amp;uin=2382247834&amp;site=qq&amp;menu=yes" target="_blank"><img class="post-qr-code-img" src="/img/52.jpg" alt="联系我"/></a><div class="post-qr-code-desc">联系我</div></li></ul></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2024/10/23/%E6%8E%A2%E7%A9%B6%EF%BC%9A%E5%AE%BD%E5%AD%97%E8%8A%82%E6%B3%A8%E5%85%A5%E4%B8%ADgbk%E7%BC%96%E7%A0%81%E5%88%B0%E5%BA%95%E6%98%AF%E6%8C%87%E8%B0%81%E7%9A%84%EF%BC%9F/" title="探究：宽字节注入中gbk编码到底是指谁的？"><img class="cover" src="/img/1.jpg" onerror="onerror=null;src='/img/18.jpg'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">探究：宽字节注入中gbk编码到底是指谁的？</div></div><div class="info-2"><div class="info-item-1">...</div></div></div></a><a class="pagination-related" href="/2024/08/31/taoCMS%E5%90%8E%E5%8F%B0%E6%B3%A8%E5%85%A5/" title="taoCMS-后台注入"><img class="cover" src="/img/1.jpg" onerror="onerror=null;src='/img/18.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">taoCMS-后台注入</div></div><div class="info-2"><div class="info-item-1">环境搭建 我用的是 phpstudy2018+php-5.4.45+Apache   白盒审计 手工审计  审计思路选择由于功能点太多了，于是果断pass掉功能点审计法与SQL语句监控法，因为功能点太多，那么需要触发的SQL语句也会很多，一时半会还真不好找，于是我选择正则表达式审计法  1(?:SELECT|INSERT INTO|UPDATE|DELETE FROM|CREATE TABLE|DROP TABLE|ALTER TABLE)\b[\s\S]*?;   一共匹配到的有效SQL语句也就30来条左右，通过简单看看这些SQL语句，又可以排除大部分明显不可控的固定的SQL语句，那么剩下的就一条一条验证看是否可控 最终觉得 **\include\Model\Datastore.php **这个文件中的一处SQL语句有点可疑 开始着重审计 审计过程123456789101112131415161718192021function create()&#123;		header(&#x27;Content-type:...</div></div></div></a></nav><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="waline-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/11.jpg" onerror="this.onerror=null;this.src='/img/47.jpg'" alt="avatar"/></div><div class="author-info-name">X1ly?S</div><div class="author-info-description">需要的不是掌声，而是没有哭声</div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">98</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">52</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">20</div></a></div><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/x1lys" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="mailto:2382247834@qq.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a><a class="social-icon" href="https://wpa.qq.com/msgrd?v=3&amp;uin=2382247834&amp;site=qq&amp;menu=yes" target="_blank" title="QQ"><i class="fab fa-qq" style="color: #00b7f1;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">更多优质技术文章，欢迎关注【The One安全】微信公众号</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%90%86%E6%B8%85%E6%A6%82%E5%BF%B5"><span class="toc-number">1.</span> <span class="toc-text">理清概念</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Web-Services"><span class="toc-number">1.1.</span> <span class="toc-text">Web Services</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AE%80%E4%BB%8B"><span class="toc-number">1.1.1.</span> <span class="toc-text">简介</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Web-Services%E4%B8%89%E8%A6%81%E7%B4%A0"><span class="toc-number">1.1.2.</span> <span class="toc-text">Web Services三要素</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Web-Services%E7%9A%84%E5%85%B3%E9%94%AE%E7%82%B9"><span class="toc-number">1.1.3.</span> <span class="toc-text">Web Services的关键点</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SOAP"><span class="toc-number">1.2.</span> <span class="toc-text">SOAP</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AE%80%E4%BB%8B-1"><span class="toc-number">1.2.1.</span> <span class="toc-text">简介</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%89%B9%E7%82%B9"><span class="toc-number">1.2.2.</span> <span class="toc-text">特点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#SOAP%E7%9A%84%E5%85%B3%E9%94%AE%E7%82%B9"><span class="toc-number">1.2.3.</span> <span class="toc-text">SOAP的关键点</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#WSDL"><span class="toc-number">1.3.</span> <span class="toc-text">WSDL</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AE%80%E4%BB%8B-2"><span class="toc-number">1.3.1.</span> <span class="toc-text">简介</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8A%9F%E8%83%BD"><span class="toc-number">1.3.2.</span> <span class="toc-text">功能</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#UDDI%EF%BC%88Universal-Description-Discovery-and-Integration%EF%BC%89"><span class="toc-number">1.4.</span> <span class="toc-text">UDDI（Universal Description, Discovery, and Integration）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AE%80%E4%BB%8B-3"><span class="toc-number">1.4.1.</span> <span class="toc-text">简介</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8A%9F%E8%83%BD-1"><span class="toc-number">1.4.2.</span> <span class="toc-text">功能</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%83%E4%BB%AC%E4%B9%8B%E9%97%B4%E7%9A%84%E5%85%B3%E7%B3%BB"><span class="toc-number">1.5.</span> <span class="toc-text">它们之间的关系</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B"><span class="toc-number">1.6.</span> <span class="toc-text">工作流程</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SOAP%E7%9A%84%E7%BB%84%E6%88%90"><span class="toc-number">2.</span> <span class="toc-text">SOAP的组成</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#SOAP-Envelope%EF%BC%88SOAP-%E4%BF%A1%E5%B0%81%EF%BC%89"><span class="toc-number">2.1.</span> <span class="toc-text">SOAP Envelope（SOAP 信封）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SOAP-Header%EF%BC%88SOAP-%E5%A4%B4%EF%BC%89"><span class="toc-number">2.2.</span> <span class="toc-text">SOAP Header（SOAP 头）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SOAP-Body%EF%BC%88SOAP-%E4%B8%BB%E4%BD%93%EF%BC%89"><span class="toc-number">2.3.</span> <span class="toc-text">SOAP Body（SOAP 主体）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SOAP-Fault%EF%BC%88SOAP-%E9%94%99%E8%AF%AF%EF%BC%89"><span class="toc-number">2.4.</span> <span class="toc-text">SOAP Fault（SOAP 错误）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">2.5.</span> <span class="toc-text">总结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SOAP-SQL%E6%B3%A8%E5%85%A5%E5%8E%9F%E7%90%86"><span class="toc-number">3.</span> <span class="toc-text">SOAP-SQL注入原理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SOAP-SQL%E6%B3%A8%E5%85%A5%E5%AE%9E%E6%88%98"><span class="toc-number">4.</span> <span class="toc-text">SOAP-SQL注入实战</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%BB%E6%89%BESOAP"><span class="toc-number">4.1.</span> <span class="toc-text">寻找SOAP</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A1%B5%E9%9D%A2%E5%85%B3%E9%94%AE%E8%AF%8D%E7%89%B9%E5%BE%81"><span class="toc-number">4.1.1.</span> <span class="toc-text">页面关键词特征</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E5%90%8E%E7%BC%80%E7%89%B9%E5%BE%81"><span class="toc-number">4.1.2.</span> <span class="toc-text">文件后缀特征</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%9B%AE%E5%BD%95%E7%89%B9%E5%BE%81"><span class="toc-number">4.1.3.</span> <span class="toc-text">目录特征</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%B7%E4%BE%8B"><span class="toc-number">4.1.4.</span> <span class="toc-text">样例</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%8B%E8%AF%95SOAP-SQL%E6%B3%A8%E5%85%A5"><span class="toc-number">4.2.</span> <span class="toc-text">测试SOAP-SQL注入</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%89%8B%E5%B7%A5%E6%B5%8B%E8%AF%95"><span class="toc-number">4.2.1.</span> <span class="toc-text">手工测试</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%99%AE%E9%80%9A%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95"><span class="toc-number">4.2.2.</span> <span class="toc-text">普通自动化测试</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%9B%E9%98%B6%E6%B5%8B%E8%AF%95"><span class="toc-number">4.2.3.</span> <span class="toc-text">进阶测试</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#SOAP%E8%B0%83%E8%AF%95"><span class="toc-number">4.2.3.1.</span> <span class="toc-text">SOAP调试</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#WSDLER-%E8%A7%A3%E6%9E%90"><span class="toc-number">4.2.3.2.</span> <span class="toc-text">WSDLER 解析</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Sqlmap%E8%81%94%E5%8A%A8"><span class="toc-number">4.2.3.3.</span> <span class="toc-text">Sqlmap联动</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E6%88%98%E6%A1%88%E4%BE%8B"><span class="toc-number">5.</span> <span class="toc-text">实战案例</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B7%A5%E5%85%B7%E6%8E%A8%E8%8D%90"><span class="toc-number">6.</span> <span class="toc-text">工具推荐</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Acunetix-Web-Vulnerability-Scanner-10"><span class="toc-number">6.1.</span> <span class="toc-text">Acunetix Web Vulnerability Scanner 10</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#soap-ui"><span class="toc-number">6.2.</span> <span class="toc-text">soap ui</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#sqlmap4burp"><span class="toc-number">6.3.</span> <span class="toc-text">sqlmap4burp</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2025/12/01/%E5%A6%82%E4%BD%95%E6%A0%B9%E6%8D%AE1day%E6%8C%96%E5%87%BA%E5%A4%A9%E9%94%90%E7%BB%BF%E7%9B%BE%E5%89%8D%E5%8F%B0RCE-0day/" title="如何根据1day挖出天锐绿盾前台RCE-0day"><img src="/img/1.jpg" onerror="this.onerror=null;this.src='/img/18.jpg'" alt="如何根据1day挖出天锐绿盾前台RCE-0day"/></a><div class="content"><a class="title" href="/2025/12/01/%E5%A6%82%E4%BD%95%E6%A0%B9%E6%8D%AE1day%E6%8C%96%E5%87%BA%E5%A4%A9%E9%94%90%E7%BB%BF%E7%9B%BE%E5%89%8D%E5%8F%B0RCE-0day/" title="如何根据1day挖出天锐绿盾前台RCE-0day">如何根据1day挖出天锐绿盾前台RCE-0day</a><time datetime="2025-12-01T14:16:59.000Z" title="发表于 2025-12-01 22:16:59">2025-12-01</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/12/01/%E5%A4%A9%E9%94%90%E7%BB%BF%E7%9B%BE%E5%AE%A1%E6%89%B9%E7%B3%BB%E7%BB%9FuploadWxFile%E4%BB%BB%E6%84%8F%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E4%BB%A3%E7%A0%81%E5%88%86%E6%9E%90%E5%A4%8D%E7%8E%B0/" title="天锐绿盾审批系统uploadWxFile任意文件上传代码分析复现"><img src="/img/1.jpg" onerror="this.onerror=null;this.src='/img/18.jpg'" alt="天锐绿盾审批系统uploadWxFile任意文件上传代码分析复现"/></a><div class="content"><a class="title" href="/2025/12/01/%E5%A4%A9%E9%94%90%E7%BB%BF%E7%9B%BE%E5%AE%A1%E6%89%B9%E7%B3%BB%E7%BB%9FuploadWxFile%E4%BB%BB%E6%84%8F%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E4%BB%A3%E7%A0%81%E5%88%86%E6%9E%90%E5%A4%8D%E7%8E%B0/" title="天锐绿盾审批系统uploadWxFile任意文件上传代码分析复现">天锐绿盾审批系统uploadWxFile任意文件上传代码分析复现</a><time datetime="2025-12-01T14:15:25.000Z" title="发表于 2025-12-01 22:15:25">2025-12-01</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/12/01/ChanCMS-3-3-0-%E5%89%8D%E5%8F%B0RCE/" title="ChanCMS-3.3.0-前台RCE"><img src="/img/1.jpg" onerror="this.onerror=null;this.src='/img/18.jpg'" alt="ChanCMS-3.3.0-前台RCE"/></a><div class="content"><a class="title" href="/2025/12/01/ChanCMS-3-3-0-%E5%89%8D%E5%8F%B0RCE/" title="ChanCMS-3.3.0-前台RCE">ChanCMS-3.3.0-前台RCE</a><time datetime="2025-12-01T14:11:57.000Z" title="发表于 2025-12-01 22:11:57">2025-12-01</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/12/01/JS%E9%80%86%E5%90%91-%E7%A0%81%E4%B8%8A%E7%88%AC%E9%A2%98%E8%A7%A3/" title="JS逆向- 0基础JS逆向练习题解"><img src="/img/1.jpg" onerror="this.onerror=null;this.src='/img/18.jpg'" alt="JS逆向- 0基础JS逆向练习题解"/></a><div class="content"><a class="title" href="/2025/12/01/JS%E9%80%86%E5%90%91-%E7%A0%81%E4%B8%8A%E7%88%AC%E9%A2%98%E8%A7%A3/" title="JS逆向- 0基础JS逆向练习题解">JS逆向- 0基础JS逆向练习题解</a><time datetime="2025-12-01T13:51:03.000Z" title="发表于 2025-12-01 21:51:03">2025-12-01</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/06/14/%E5%AE%9E%E6%88%98URL%E6%A0%A1%E9%AA%8Cbypass-%E6%B5%85%E8%B0%88%E9%9D%99%E6%80%81DNS%E8%A7%A3%E6%9E%90%E5%A7%BF%E5%8A%BF%E4%B8%8ECAS%E7%A5%A8%E6%8D%AE%E5%8A%AB%E6%8C%81%E6%A1%88%E4%BE%8B/" title="实战URL校验bypass:浅谈静态DNS解析姿势与CAS票据劫持案例"><img src="/img/1.jpg" onerror="this.onerror=null;this.src='/img/18.jpg'" alt="实战URL校验bypass:浅谈静态DNS解析姿势与CAS票据劫持案例"/></a><div class="content"><a class="title" href="/2025/06/14/%E5%AE%9E%E6%88%98URL%E6%A0%A1%E9%AA%8Cbypass-%E6%B5%85%E8%B0%88%E9%9D%99%E6%80%81DNS%E8%A7%A3%E6%9E%90%E5%A7%BF%E5%8A%BF%E4%B8%8ECAS%E7%A5%A8%E6%8D%AE%E5%8A%AB%E6%8C%81%E6%A1%88%E4%BE%8B/" title="实战URL校验bypass:浅谈静态DNS解析姿势与CAS票据劫持案例">实战URL校验bypass:浅谈静态DNS解析姿势与CAS票据劫持案例</a><time datetime="2025-06-14T04:29:52.000Z" title="发表于 2025-06-14 12:29:52">2025-06-14</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url(/img/1.jpg);"><div id="footer-wrap"><div class="copyright">&copy;2024 - 2025 By X1ly?S</div><div class="footer_custom_text">我的来时路</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="前往评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><div class="js-pjax"><script>(() => {
  let initFn = window.walineFn || null
  const isShuoshuo = GLOBAL_CONFIG_SITE.isShuoshuo
  const option = null

  const destroyWaline = ele => ele.destroy()

  const initWaline = (Fn, el = document, path = window.location.pathname) => {
    const waline = Fn({
      el: el.querySelector('#waline-wrap'),
      serverURL: 'https://comments-swart.vercel.app/',
      pageview: false,
      dark: 'html[data-theme="dark"]',
      comment: true,
      ...option,
      path: isShuoshuo ? path : (option && option.path) || path
    })

    if (isShuoshuo) {
      window.shuoshuoComment.destroyWaline = () => {
        destroyWaline(waline)
        if (el.children.length) {
          el.innerHTML = ''
          el.classList.add('no-comment')
        }
      }
    }
  }

  const loadWaline = (el, path) => {
    if (initFn) initWaline(initFn, el, path)
    else {
      btf.getCSS('https://cdn.jsdelivr.net/npm/@waline/client/dist/waline.min.css')
        .then(() => import('https://cdn.jsdelivr.net/npm/@waline/client/dist/waline.min.js'))
        .then(({ init }) => {
          initFn = init || Waline.init
          initWaline(initFn, el, path)
          window.walineFn = initFn
        })
    }
  }

  if (isShuoshuo) {
    'Waline' === 'Waline'
      ? window.shuoshuoComment = { loadComment: loadWaline } 
      : window.loadOtherComment = loadWaline
    return
  }

  if ('Waline' === 'Waline' || !false) {
    if (false) btf.loadComment(document.getElementById('waline-wrap'),loadWaline)
    else setTimeout(loadWaline, 0)
  } else {
    window.loadOtherComment = loadWaline
  }
})()</script></div><script>(() => {
  const isChatBtn = false
  const isChatHideShow = false

  if (isChatBtn) {
    const close = () => {
      Chatra('minimizeWidget')
      Chatra('hide')
    }

    const open = () => {
      Chatra('openChat', true)
      Chatra('show')
    }

    window.ChatraSetup = { startHidden: true }
  
    window.chatBtnFn = () => {
      document.getElementById('chatra').classList.contains('chatra--expanded') ? close() : open()
    }
  } else if (isChatHideShow) {
    window.chatBtn = {
      hide: () => Chatra('hide'),
      show: () => Chatra('show')
    }
  }

  (function(d, w, c) {
    w.ChatraID = ''
    var s = d.createElement('script')
    w[c] = w[c] || function() {
      (w[c].q = w[c].q || []).push(arguments)
    }
    s.async = true
    s.src = 'https://call.chatra.io/chatra.js'
    if (d.head) d.head.appendChild(s)
  })(document, window, 'Chatra')
})()</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>